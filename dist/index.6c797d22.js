var e=globalThis,t={},n={},r=e.parcelRequire4451;null==r&&((r=function(e){if(e in t)return t[e].exports;if(e in n){var r=n[e];delete n[e];var a={id:e,exports:{}};return t[e]=a,r.call(a.exports,a,a.exports),a.exports}var o=Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,t){n[e]=t},e.parcelRequire4451=r),(0,r.register)("27Lyk",function(e,t){Object.defineProperty(e.exports,"register",{get:()=>n,set:e=>n=e,enumerable:!0,configurable:!0});var n,r=new Map;n=function(e,t){for(var n=0;n<t.length-1;n+=2)r.set(t[n],{baseUrl:e,path:t[n+1]})}}),r("27Lyk").register(new URL("",import.meta.url).toString(),JSON.parse('["krNw4","index.6c797d22.js","jY698","alert.4dd59341.svg"]'));var a={};a=new URL("alert.4dd59341.svg",import.meta.url).toString();const o=document.getElementById("default-search"),l=document.getElementById("search-button"),d=document.getElementById("search-result");let i=[];async function s(){for(i=[];d.firstChild;)d.removeChild(d.firstChild);await fetch(`https://openlibrary.org/subjects/${o.value.toLowerCase()}.json?limit=18`).then(e=>e.json()).then(e=>{e.works.forEach((e,t)=>{let n=[];e.authors.forEach(e=>{n.push(e.name)}),i[t]={title:e.title,authors:n,year:e.first_publish_year,key:e.key,coverId:e.cover_id}})})}async function c(e){await fetch(`https://openlibrary.org${e.key}.json`).then(e=>e.json()).then(t=>{"string"==typeof t.description?e.description=t.description:"object"==typeof t.description&&void 0!==t.description?e.description=t.description.value:e.description="no description found"})}async function p(e){await c(e);let t=document.createElement("div");t.className=" m-4 grid grid-cols-2 cursor-pointer items-center rounded-lg border border-gray-200 bg-white shadow hover:bg-gray-100 dark:border-gray-700 dark:bg-gray-800 dark:hover:bg-gray-700 md:max-w-xl sm:text-sm";let n=document.createElement("img");n.className="h-48 w-32 rounded-l-lg object-cover md:h-auto md:w-48 md:rounded-none md:rounded-s-lg ",n.src=`https://covers.openlibrary.org/b/id/${e.coverId}-M.jpg`,n.alt=`${e.title}`;let r=document.createElement("div");r.classList="flex flex-col justify-between p-3 leading-normal dark:text-gray-200";let a=document.createElement("h3");a.textContent=`${e.title}`,a.classList="font-bold text-lg";let o=document.createElement("h4");e.authors[1]?o.textContent=`${e.authors.join(", ")}`:o.textContent=`${e.authors[0]}`,o.classList="font-semibold text-base";let l=document.createElement("h5");l.textContent=`${e.year}`;let i=document.createElement("div");i.className="col-span-2 break-words text-wrap text-justify hidden transition-all text-xs p-2 text-balance dark:text-gray-200";let s=document.createElement("p");s.className="text-balance",s.textContent=`${e.description}`,d.appendChild(t),t.appendChild(n),t.appendChild(r),r.appendChild(a),r.appendChild(o),r.appendChild(l),t.appendChild(i),i.appendChild(s),t.addEventListener("click",()=>{i.classList.contains("hidden")?i.classList.remove("hidden"):i.classList.add("hidden")})}function m(){var e;let t=document.createElement("div");t.className="my-20 flex w-40 flex-col items-center justify-center md:w-56 lg:col-span-2";let n=document.createElement("img");n.src=(e=a)&&e.__esModule?e.default:e;let r=document.createElement("h1");r.textContent="Nessun libro trovato",r.className="whitespace-nowrap text-xl font-bold md:text-2xl",d.appendChild(t),t.appendChild(n),t.appendChild(r)}l.addEventListener("click",async e=>{e.preventDefault();try{let e=document.getElementById("loader");e.style.display="block",await s(),e.style.display="none",0==i.length?m():i.forEach(e=>{p(e)})}catch(e){loader.style.display="none",m()}});
//# sourceMappingURL=index.6c797d22.js.map
