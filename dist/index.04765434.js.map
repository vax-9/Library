{"mappings":"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","sources":["<anon>","node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","node_modules/@parcel/runtime-js/lib/runtime-362498e825786395.js","src/js/script.js","node_modules/@parcel/runtime-js/lib/runtime-0cee632df49f2f95.js"],"sourcesContent":["\nfunction $parcel$export(e, n, v, s) {\n  Object.defineProperty(e, n, {get: v, set: s, enumerable: true, configurable: true});\n}\n\nfunction $parcel$interopDefault(a) {\n  return a && a.__esModule ? a.default : a;\n}\n\n      var $parcel$global = globalThis;\n    \nvar $parcel$modules = {};\nvar $parcel$inits = {};\n\nvar parcelRequire = $parcel$global[\"parcelRequire4451\"];\n\nif (parcelRequire == null) {\n  parcelRequire = function(id) {\n    if (id in $parcel$modules) {\n      return $parcel$modules[id].exports;\n    }\n    if (id in $parcel$inits) {\n      var init = $parcel$inits[id];\n      delete $parcel$inits[id];\n      var module = {id: id, exports: {}};\n      $parcel$modules[id] = module;\n      init.call(module.exports, module, module.exports);\n      return module.exports;\n    }\n    var err = new Error(\"Cannot find module '\" + id + \"'\");\n    err.code = 'MODULE_NOT_FOUND';\n    throw err;\n  };\n\n  parcelRequire.register = function register(id, init) {\n    $parcel$inits[id] = init;\n  };\n\n  $parcel$global[\"parcelRequire4451\"] = parcelRequire;\n}\n\nvar parcelRegister = parcelRequire.register;\nparcelRegister(\"27Lyk\", function(module, exports) {\n\n$parcel$export(module.exports, \"register\", () => $18c11f3350a906ea$export$6503ec6e8aabbaf, (v) => $18c11f3350a906ea$export$6503ec6e8aabbaf = v);\nvar $18c11f3350a906ea$export$6503ec6e8aabbaf;\nvar $18c11f3350a906ea$export$f7ad0328861e2f03;\n\"use strict\";\nvar $18c11f3350a906ea$var$mapping = new Map();\nfunction $18c11f3350a906ea$var$register(baseUrl, manifest) {\n    for(var i = 0; i < manifest.length - 1; i += 2)$18c11f3350a906ea$var$mapping.set(manifest[i], {\n        baseUrl: baseUrl,\n        path: manifest[i + 1]\n    });\n}\nfunction $18c11f3350a906ea$var$resolve(id) {\n    var resolved = $18c11f3350a906ea$var$mapping.get(id);\n    if (resolved == null) throw new Error(\"Could not resolve bundle with id \" + id);\n    return new URL(resolved.path, resolved.baseUrl).toString();\n}\n$18c11f3350a906ea$export$6503ec6e8aabbaf = $18c11f3350a906ea$var$register;\n$18c11f3350a906ea$export$f7ad0328861e2f03 = $18c11f3350a906ea$var$resolve;\n\n});\n\nvar $7dc2d7fe7fb3ca8a$exports = {};\n\n(parcelRequire(\"27Lyk\")).register(new URL(\"\", import.meta.url).toString(), JSON.parse('[\"krNw4\",\"index.04765434.js\",\"jY698\",\"alert.4dd59341.svg\"]'));\n\nvar $e577157be303052d$exports = {};\n$e577157be303052d$exports = new URL(\"alert.4dd59341.svg\", import.meta.url).toString();\n\n\nconst $3fba0bda95caa784$var$input = document.getElementById(\"default-search\");\nconst $3fba0bda95caa784$var$searchButton = document.getElementById(\"search-button\");\nconst $3fba0bda95caa784$var$searchResult = document.getElementById(\"search-result\");\n//fetch dei libri e modifica dell'array 'books'\nasync function $3fba0bda95caa784$var$caricaLibri() {\n    let books = [];\n    while($3fba0bda95caa784$var$searchResult.firstChild)$3fba0bda95caa784$var$searchResult.removeChild($3fba0bda95caa784$var$searchResult.firstChild);\n    await fetch(`https://openlibrary.org/subjects/${$3fba0bda95caa784$var$input.value.toLowerCase()}.json?limit=18`).then((response)=>response.json()).then((data)=>{\n        data.works.forEach((element, i)=>{\n            let authors = [];\n            element.authors.forEach((author)=>{\n                authors.push(author.name);\n            }), books[i] = {\n                title: element.title,\n                authors: authors,\n                year: element.first_publish_year,\n                key: element.key,\n                coverId: element.cover_id\n            };\n        });\n    });\n    return books;\n}\n//fetch delle descrizioni dei libri\nasync function $3fba0bda95caa784$var$findDescription(book) {\n    await fetch(`https://openlibrary.org${book.key}.json`).then((response)=>response.json()).then((data)=>{\n        if (typeof data.description == \"string\") book.description = data.description;\n        else if (typeof data.description == \"object\" && data.description !== undefined) book.description = data.description.value;\n        else book.description = \"no description found\";\n    });\n}\n//funzione che crea le card dei libri\nasync function $3fba0bda95caa784$var$createCard(book) {\n    await $3fba0bda95caa784$var$findDescription(book);\n    const card = document.createElement(\"div\");\n    card.className = ` m-4 grid grid-cols-2 cursor-pointer items-center rounded-lg border border-gray-200 bg-white shadow hover:bg-gray-100 dark:border-gray-700 dark:bg-gray-800 dark:hover:bg-gray-700 md:max-w-xl sm:text-sm`;\n    const img = document.createElement(\"img\");\n    img.className = `h-48 w-32 rounded-l-lg object-cover md:h-auto md:w-48 md:rounded-none md:rounded-s-lg `;\n    img.src = `https://covers.openlibrary.org/b/id/${book.coverId}-M.jpg`;\n    img.alt = `${book.title}`;\n    const textDiv = document.createElement(\"div\");\n    textDiv.classList = `flex flex-col justify-between p-3 leading-normal dark:text-gray-200`;\n    const title = document.createElement(\"h3\");\n    title.textContent = `${book.title}`;\n    title.classList = \"font-bold text-lg\";\n    const authors = document.createElement(\"h4\");\n    if (book.authors[1]) authors.textContent = `${book.authors.join(\", \")}`;\n    else authors.textContent = `${book.authors[0]}`;\n    authors.classList = \"font-semibold text-base\";\n    const publishYear = document.createElement(\"h5\");\n    publishYear.textContent = `${book.year}`;\n    const description = document.createElement(\"div\");\n    description.className = \"col-span-2 break-words text-wrap text-justify hidden transition-all text-xs p-2 text-balance dark:text-gray-200\";\n    const descriptionText = document.createElement(\"p\");\n    descriptionText.className = \"text-balance\";\n    descriptionText.textContent = `${book.description}`;\n    $3fba0bda95caa784$var$searchResult.appendChild(card);\n    card.appendChild(img);\n    card.appendChild(textDiv);\n    textDiv.appendChild(title);\n    textDiv.appendChild(authors);\n    textDiv.appendChild(publishYear);\n    card.appendChild(description);\n    description.appendChild(descriptionText);\n    //event listener per ogni card che mostra la descrizione sul click\n    card.addEventListener(\"click\", ()=>{\n        if (description.classList.contains(\"hidden\")) description.classList.remove(\"hidden\");\n        else description.classList.add(\"hidden\");\n    });\n}\n//event listener sul bottone 'search'\n$3fba0bda95caa784$var$searchButton.addEventListener(\"click\", (e)=>{\n    e.preventDefault();\n    const loader = document.getElementById(\"loader\");\n    loader.style.display = \"block\";\n    $3fba0bda95caa784$var$caricaLibri().then((books)=>(loader.style.display = \"none\", books.length == 0 ? $3fba0bda95caa784$var$displayError() : books.forEach((book)=>{\n            $3fba0bda95caa784$var$createCard(book);\n        }))).catch((err)=>(loader.style.display = \"none\", $3fba0bda95caa784$var$displayError(), console.error(\"Errore nel caricamento dei libri\", err)));\n});\n// Funzione che mostra il simbolo di errore con la relativa scritta\nfunction $3fba0bda95caa784$var$displayError() {\n    const errorDiv = document.createElement(\"div\");\n    errorDiv.className = \"my-20 flex w-40 flex-col items-center justify-center md:w-56 lg:col-span-2\";\n    const errorImg = document.createElement(\"img\");\n    errorImg.src = (0, (/*@__PURE__*/$parcel$interopDefault($e577157be303052d$exports)));\n    const errorText = document.createElement(\"h1\");\n    errorText.textContent = \"Nessun libro trovato\";\n    errorText.className = \"whitespace-nowrap text-xl font-bold md:text-2xl\";\n    $3fba0bda95caa784$var$searchResult.appendChild(errorDiv);\n    errorDiv.appendChild(errorImg);\n    errorDiv.appendChild(errorText);\n}\n\n\n//# sourceMappingURL=index.04765434.js.map\n","\"use strict\";\n\nvar mapping = new Map();\nfunction register(baseUrl, manifest) {\n  for (var i = 0; i < manifest.length - 1; i += 2) {\n    mapping.set(manifest[i], {\n      baseUrl: baseUrl,\n      path: manifest[i + 1]\n    });\n  }\n}\nfunction resolve(id) {\n  var resolved = mapping.get(id);\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n  return new URL(resolved.path, resolved.baseUrl).toString();\n}\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","require('./helpers/bundle-manifest').register(new __parcel__URL__(\"\").toString(),JSON.parse(\"[\\\"krNw4\\\",\\\"index.04765434.js\\\",\\\"jY698\\\",\\\"alert.4dd59341.svg\\\"]\"));","import errorImgSrc from \"/src/img/alert.svg\";\n\nconst input = document.getElementById(\"default-search\");\nconst searchButton = document.getElementById(\"search-button\");\nconst searchResult = document.getElementById(\"search-result\");\n\n//fetch dei libri e modifica dell'array 'books'\nasync function caricaLibri() {\n  let books = [];\n  while (searchResult.firstChild) {\n    searchResult.removeChild(searchResult.firstChild);\n  }\n  await fetch(\n    `https://openlibrary.org/subjects/${input.value.toLowerCase()}.json?limit=18`,\n  )\n    .then((response) => response.json())\n    .then((data) => {\n      data.works.forEach((element, i) => {\n        let authors = [];\n        element.authors.forEach((author) => {\n          authors.push(author.name);\n        }),\n          (books[i] = {\n            title: element.title,\n            authors: authors,\n            year: element.first_publish_year,\n            key: element.key,\n            coverId: element.cover_id,\n          });\n      });\n    });\n  return books;\n}\n\n//fetch delle descrizioni dei libri\nasync function findDescription(book) {\n  await fetch(`https://openlibrary.org${book.key}.json`)\n    .then((response) => response.json())\n    .then((data) => {\n      if (typeof data.description == \"string\") {\n        book.description = data.description;\n      } else if (\n        typeof data.description == \"object\" &&\n        data.description !== undefined\n      ) {\n        book.description = data.description.value;\n      } else {\n        book.description = \"no description found\";\n      }\n    });\n}\n\n//funzione che crea le card dei libri\nasync function createCard(book) {\n  await findDescription(book);\n  const card = document.createElement(\"div\");\n  card.className = ` m-4 grid grid-cols-2 cursor-pointer items-center rounded-lg border border-gray-200 bg-white shadow hover:bg-gray-100 dark:border-gray-700 dark:bg-gray-800 dark:hover:bg-gray-700 md:max-w-xl sm:text-sm`;\n  const img = document.createElement(\"img\");\n  img.className = `h-48 w-32 rounded-l-lg object-cover md:h-auto md:w-48 md:rounded-none md:rounded-s-lg `;\n  img.src = `https://covers.openlibrary.org/b/id/${book.coverId}-M.jpg`;\n  img.alt = `${book.title}`;\n  const textDiv = document.createElement(\"div\");\n  textDiv.classList = `flex flex-col justify-between p-3 leading-normal dark:text-gray-200`;\n  const title = document.createElement(\"h3\");\n  title.textContent = `${book.title}`;\n  title.classList = \"font-bold text-lg\";\n  const authors = document.createElement(\"h4\");\n  if (book.authors[1]) {\n    authors.textContent = `${book.authors.join(\", \")}`;\n  } else {\n    authors.textContent = `${book.authors[0]}`;\n  }\n  authors.classList = \"font-semibold text-base\";\n  const publishYear = document.createElement(\"h5\");\n  publishYear.textContent = `${book.year}`;\n  const description = document.createElement(\"div\");\n  description.className =\n    \"col-span-2 break-words text-wrap text-justify hidden transition-all text-xs p-2 text-balance dark:text-gray-200\";\n  const descriptionText = document.createElement(\"p\");\n  descriptionText.className = \"text-balance\";\n  descriptionText.textContent = `${book.description}`;\n  searchResult.appendChild(card);\n  card.appendChild(img);\n  card.appendChild(textDiv);\n  textDiv.appendChild(title);\n  textDiv.appendChild(authors);\n  textDiv.appendChild(publishYear);\n  card.appendChild(description);\n  description.appendChild(descriptionText);\n\n  //event listener per ogni card che mostra la descrizione sul click\n  card.addEventListener(\"click\", () => {\n    if (description.classList.contains(\"hidden\")) {\n      description.classList.remove(\"hidden\");\n    } else {\n      description.classList.add(\"hidden\");\n    }\n  });\n}\n\n//event listener sul bottone 'search'\nsearchButton.addEventListener(\"click\", (e) => {\n  e.preventDefault();\n  const loader = document.getElementById(\"loader\");\n  loader.style.display = \"block\";\n  caricaLibri()\n    .then(\n      (books) => (\n        (loader.style.display = \"none\"),\n        books.length == 0\n          ? displayError()\n          : books.forEach((book) => {\n              createCard(book);\n            })\n      ),\n    )\n    .catch(\n      (err) => (\n        (loader.style.display = \"none\"),\n        displayError(),\n        console.error(\"Errore nel caricamento dei libri\", err)\n      ),\n    );\n});\n\n// Funzione che mostra il simbolo di errore con la relativa scritta\nfunction displayError() {\n  const errorDiv = document.createElement(\"div\");\n  errorDiv.className =\n    \"my-20 flex w-40 flex-col items-center justify-center md:w-56 lg:col-span-2\";\n  const errorImg = document.createElement(\"img\");\n  errorImg.src = errorImgSrc;\n  const errorText = document.createElement(\"h1\");\n  errorText.textContent = \"Nessun libro trovato\";\n  errorText.className = \"whitespace-nowrap text-xl font-bold md:text-2xl\";\n  searchResult.appendChild(errorDiv);\n  errorDiv.appendChild(errorImg);\n  errorDiv.appendChild(errorText);\n}\n","module.exports = new __parcel__URL__(\"alert.4dd59341.svg\").toString();"],"names":["$parcel$global","globalThis","$parcel$modules","$parcel$inits","parcelRequire","id","exports","init","module","call","err","Error","code","register","parcelRegister","Object","defineProperty","get","$18c11f3350a906ea$export$6503ec6e8aabbaf","set","v","enumerable","configurable","$18c11f3350a906ea$var$mapping","Map","baseUrl","manifest","i","length","path","URL","url","toString","JSON","parse","$e577157be303052d$exports","$3fba0bda95caa784$var$input","document","getElementById","$3fba0bda95caa784$var$searchButton","$3fba0bda95caa784$var$searchResult","$3fba0bda95caa784$var$caricaLibri","books","firstChild","removeChild","fetch","value","toLowerCase","then","response","json","data","works","forEach","element","authors","author","push","name","title","year","first_publish_year","key","coverId","cover_id","$3fba0bda95caa784$var$findDescription","book","description","undefined","$3fba0bda95caa784$var$createCard","card","createElement","className","img","src","alt","textDiv","classList","textContent","join","publishYear","descriptionText","appendChild","addEventListener","contains","remove","add","$3fba0bda95caa784$var$displayError","a","errorDiv","errorImg","__esModule","default","errorText","e","preventDefault","loader","style","display","catch","console","error"],"version":3,"file":"index.04765434.js.map"}